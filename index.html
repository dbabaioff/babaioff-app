<!DOCTYPE html>
<html lang="en">
<head>
<meta charset="UTF-8">
<meta name="viewport" content="width=device-width, initial-scale=1.0">
<title>YouTube Audio Player</title>
<style>
  :root {
    --primary: #007bff;
    --bg: #f8f9fa;
    --hover: #e0e0e0;
    --active: #cce5ff;
  }

  body {
    font-family: system-ui, sans-serif;
    margin: 0;
    padding: 20px;
    background: var(--bg);
    color: #333;
    text-align: center;
  }

  h2 {
    font-size: 1.6rem;
    margin-bottom: 20px;
  }

  /* Category grid */
  .categories {
    display: grid;
    grid-template-columns: repeat(auto-fit, minmax(140px, 1fr));
    gap: 16px;
    max-width: 500px;
    margin: 0 auto;
  }

  .category {
    background: white;
    border-radius: 12px;
    padding: 30px 10px;
    box-shadow: 0 2px 5px rgba(0,0,0,0.1);
    font-size: 1.2rem;
    cursor: pointer;
    transition: background 0.2s, transform 0.1s;
    display: flex;
    flex-direction: column;
    justify-content: center;
    align-items: center;
  }
  .category:hover {
    background: var(--hover);
    transform: translateY(-2px);
  }

  /* Video list */
  #videoList {
    display: none;
    list-style: none;
    padding: 0;
    margin: 20px auto 0;
    max-width: 600px;
  }

  li {
    background: white;
    margin: 12px 0;
    padding: 12px 14px;
    border-radius: 12px;
    cursor: pointer;
    transition: background 0.2s, transform 0.1s;
    display: flex;
    align-items: center;
    gap: 14px;
    box-shadow: 0 2px 6px rgba(0,0,0,0.08);
  }

  li:hover {
    background: var(--hover);
    transform: translateY(-2px);
  }

  li.active {
    background: var(--active);
  }

  li img {
    width: 100px;
    height: 75px;
    border-radius: 8px;
    object-fit: cover;
    flex-shrink: 0;
  }

  li span {
    flex-grow: 1;
    font-size: 1.05rem;
    line-height: 1.3;
    text-align: left;
  }

  /* Hide video but keep audio */
  #player {
    width: 1px;
    height: 1px;
    opacity: 0;
    pointer-events: none;
    position: absolute;
  }

  /* Back button */
  #backButton {
    display: none;
    margin: 15px auto;
    padding: 10px 20px;
    border: none;
    background: var(--primary);
    color: white;
    border-radius: 6px;
    font-size: 1rem;
    cursor: pointer;
  }
  #backButton:hover {
    background: #0056b3;
  }

  /* Mobile adjustments */
  @media (max-width: 480px) {
    h2 {
      font-size: 1.3rem;
    }
    .category {
      padding: 25px 5px;
      font-size: 1rem;
    }
    li {
      padding: 14px 16px;
      gap: 16px;
    }
    li img {
      width: 120px;
      height: 90px;
    }
    li span {
      font-size: 1rem;
    }
  }
</style>
</head>
<body>

<h2 id="pageTitle">ðŸŽ§ Choose a Category</h2>

<!-- Categories -->
<div class="categories" id="categoryScreen">
  <div class="category" data-category="music">ðŸŽµ<br>Music</div>
  <div class="category" data-category="shiurim">ðŸ“–<br>Shiurim</div>
</div>

<!-- Back button -->
<button id="backButton">â¬… Back</button>

<!-- Video List -->
<ul id="videoList"></ul>

<!-- YouTube player (hidden) -->
<div id="player"></div>

<script>
  const videoData = {
    music: [
      { id: "wOV6YBnjRNE", title: "×¦×ž××” (×‘××‘×•×‘) || ×™×©×™×‘×ª ×ž×§×•×¨ ×—×™×™×" },
      { id: "dPR6v_cywuU", title: "×œ×”×§×ª ××”×œ×œ×” - ×ž×—×¨×•×–×ª ×©×™×¨×™ ×©×‘×ª" },
      { id: "lRWgH1CKHmM", title: "×œ×”×§×ª ××©×™×¨×” || ×•×¢×œ ×”×›×œ :: ×”×¤×¢× ××•×“×” :: ×™×•×¡×£ ×”×¦×“×™×§" }
    ],
    shiurim: [
      { id: "iKznYQWZczI", title: "×”×¨×‘ ×–×ž×™×¨ ×›×”×Ÿ - ××ž×•× ×” ×•×‘×™×˜×—×•×Ÿ" },
      { id: "LcxTxgQj9g4", title: "×”×¨×‘ ×™×¦×—×§ ×¤× ×’×¨ - ×›×•×— ×”×“×™×‘×•×¨" },
      { id: "7Vv4nTwMktI", title: "×”×¨×‘ ×™×¢×§×‘ ×¢×“×¡ - ×©×™×¢×•×¨ ×‘×¢×•×ž×§ ×”×¤×¨×©×”" }
    ]
  };

  let tag = document.createElement('script');
  tag.src = "https://www.youtube.com/iframe_api";
  document.body.appendChild(tag);

  let player;
  let currentVideoId = null;
  let isPlaying = false;

  function onYouTubeIframeAPIReady() {
    player = new YT.Player('player', {
      height: '1',
      width: '1',
      videoId: '',
      playerVars: { autoplay: 0, controls: 0, modestbranding: 1 },
      events: { 'onStateChange': onPlayerStateChange }
    });
  }

  function onPlayerStateChange(event) {
    isPlaying = event.data === YT.PlayerState.PLAYING;
  }

  // Handle category click
  document.getElementById('categoryScreen').addEventListener('click', e => {
    const cat = e.target.closest('.category');
    if (!cat) return;
    const category = cat.dataset.category;
    showVideoList(category);
  });

  // Back button
  document.getElementById('backButton').addEventListener('click', () => {
    if (player && isPlaying) player.stopVideo(); // stop playback
    document.getElementById('videoList').style.display = 'none';
    document.getElementById('categoryScreen').style.display = 'grid';
    document.getElementById('backButton').style.display = 'none';
    document.getElementById('pageTitle').textContent = 'ðŸŽ§ Choose a Category';
    currentVideoId = null;
  });

  // Show list for selected category
  function showVideoList(category) {
    const list = document.getElementById('videoList');
    list.innerHTML = '';
    videoData[category].forEach(v => {
      const li = document.createElement('li');
      const img = document.createElement('img');
      img.src = `https://img.youtube.com/vi/${v.id}/mqdefault.jpg`;
      img.alt = v.title;
      const span = document.createElement('span');
      span.textContent = v.title;
      li.appendChild(img);
      li.appendChild(span);
      li.dataset.id = v.id;
      list.appendChild(li);
    });

    document.getElementById('categoryScreen').style.display = 'none';
    list.style.display = 'block';
    document.getElementById('backButton').style.display = 'inline-block';
    document.getElementById('pageTitle').textContent =
      category === 'music' ? 'ðŸŽµ Music' : 'ðŸ“– Shiurim';
  }

  // Handle video click
  document.getElementById('videoList').addEventListener('click', function(e) {
    const li = e.target.closest('li');
    if (!li) return;
    const videoId = li.dataset.id;
    document.querySelectorAll('#videoList li').forEach(el => el.classList.remove('active'));

    if (videoId === currentVideoId) {
      if (isPlaying) {
        player.pauseVideo();
        li.classList.remove('active');
      } else {
        player.playVideo();
        li.classList.add('active');
      }
    } else {
      currentVideoId = videoId;
      player.loadVideoById(videoId);
      li.classList.add('active');
    }
  });
</script>

</body>
</html>

